{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bhauk\\\\Documents\\\\hackathon\\\\Re-Gen &Quasa4.0\\\\SoilSense\\\\frontend\\\\src\\\\pages\\\\RecommendationView.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { Container, Box, Typography, Card, CardContent, Grid, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Button, Alert, AppBar, Toolbar, Chip } from '@mui/material';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport ReactMarkdown from 'react-markdown';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction RecommendationView() {\n  _s();\n  const {\n    farmerId,\n    soilDataId\n  } = useParams();\n  const navigate = useNavigate();\n  const [recommendation, setRecommendation] = useState(null);\n  const [farmer, setFarmer] = useState(null);\n  const [soilData, setSoilData] = useState(null);\n  const [soilHealthCard, setSoilHealthCard] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Parse reasoning to extract structured data\n  const parseReasoning = reasoning => {\n    if (!reasoning) return {\n      soilAnalysis: [],\n      nutrients: [],\n      fertilizers: [],\n      notes: []\n    };\n    const lines = reasoning.split('\\n');\n    const soilAnalysis = [];\n    const nutrients = [];\n    const fertilizers = [];\n    const notes = [];\n    let inFertilizerSection = false;\n    for (const line of lines) {\n      // Extract soil parameters\n      if (line.includes('Nitrogen level') || line.includes('Phosphorus level') || line.includes('Potassium level') || line.includes('Soil pH')) {\n        const match = line.match(/^- (.+?) \\((.+?)\\) is (.+?)\\. (.+)$/);\n        if (match) {\n          const [, param, value, status, note] = match;\n          soilAnalysis.push({\n            param,\n            value,\n            status,\n            note\n          });\n        }\n      }\n\n      // Extract recommended nutrients\n      if (line.includes('kg/ha)') && (line.includes('Nitrogen') || line.includes('Phosphorus') || line.includes('Potassium'))) {\n        const match = line.match(/^- (.+?) \\((.+?)\\): (.+?) kg\\/ha$/);\n        if (match) {\n          const [, nutrient, symbol, quantity] = match;\n          nutrients.push({\n            nutrient,\n            symbol,\n            quantity: parseFloat(quantity)\n          });\n        }\n      }\n\n      // Extract fertilizer recommendations\n      if (line.includes('**Fertilizer Recommendations**')) {\n        inFertilizerSection = true;\n        continue;\n      }\n      if (inFertilizerSection && line.includes('|')) {\n        // Parse table rows\n        const cells = line.split('|').map(c => c.trim()).filter(Boolean);\n        if (cells.length >= 4 && cells[0] !== 'Fertilizer' && cells[0] !== '---') {\n          fertilizers.push({\n            name: cells[0],\n            quantity: cells[1],\n            costPerKg: cells[2],\n            totalCost: cells[3]\n          });\n        }\n      }\n\n      // Extract application notes\n      if (line.includes('**Application') || line.includes('Split application') || line.includes('Apply')) {\n        notes.push(line.replace(/\\*\\*/g, ''));\n      }\n    }\n    return {\n      soilAnalysis,\n      nutrients,\n      fertilizers,\n      notes\n    };\n  };\n  useEffect(() => {\n    const fetchRecommendation = async () => {\n      try {\n        setLoading(true);\n\n        // Fetch recommendation\n        const recResponse = await axios.get(`/api/recommendations/${soilDataId}`);\n        setRecommendation(recResponse.data);\n\n        // Fetch farmer\n        const farmerResponse = await axios.get(`/api/farmers/${recResponse.data.farmer_id}`);\n        setFarmer(farmerResponse.data);\n\n        // Fetch soil data\n        const soilResponse = await axios.get(`/api/soil-data/${recResponse.data.soil_data_id}`);\n        setSoilData(soilResponse.data);\n\n        // Try to fetch soil health card\n        try {\n          const shcResponse = await axios.get(`/api/soil-health-card/farmer/${recResponse.data.farmer_id}`);\n          if (shcResponse.data && shcResponse.data.length > 0) {\n            setSoilHealthCard(shcResponse.data[0]);\n          }\n        } catch (shcError) {\n          console.log('No soil health card found:', shcError);\n        }\n        setLoading(false);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        console.error('Error fetching data:', err);\n        // Properly extract error message\n        let errorMessage = 'Failed to load recommendation';\n        if ((_err$response = err.response) !== null && _err$response !== void 0 && (_err$response$data = _err$response.data) !== null && _err$response$data !== void 0 && _err$response$data.detail) {\n          // Handle FastAPI validation errors (array of error objects)\n          if (Array.isArray(err.response.data.detail)) {\n            errorMessage = err.response.data.detail.map(e => e.msg || JSON.stringify(e)).join(', ');\n          } else if (typeof err.response.data.detail === 'string') {\n            errorMessage = err.response.data.detail;\n          } else {\n            errorMessage = JSON.stringify(err.response.data.detail);\n          }\n        } else if (err.message) {\n          errorMessage = err.message;\n        }\n        setError(errorMessage);\n        setLoading(false);\n      }\n    };\n    fetchRecommendation();\n  }, [soilDataId]);\n  const handleDownload = async format => {\n    if (!soilHealthCard) {\n      alert('Soil Health Card not generated yet');\n      return;\n    }\n    try {\n      const response = await axios.get(`/api/soil-health-card/${soilHealthCard.card_id}/download/${format}`, {\n        responseType: 'blob'\n      });\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `soil_health_card_${soilHealthCard.card_id}.${format === 'excel' ? 'xlsx' : format}`);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Download error:', err);\n      let errorMessage = 'Failed to download file';\n      if ((_err$response2 = err.response) !== null && _err$response2 !== void 0 && (_err$response2$data = _err$response2.data) !== null && _err$response2$data !== void 0 && _err$response2$data.detail) {\n        if (typeof err.response.data.detail === 'string') {\n          errorMessage = err.response.data.detail;\n        } else {\n          errorMessage = JSON.stringify(err.response.data.detail);\n        }\n      }\n      alert(errorMessage);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        minHeight: '100vh',\n        backgroundColor: '#000',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          color: '#fff',\n          fontSize: '1.2rem'\n        },\n        children: \"Loading recommendation...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        minHeight: '100vh',\n        backgroundColor: '#000',\n        p: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        sx: {\n          backgroundColor: '#4CAF50'\n        },\n        onClick: () => navigate('/'),\n        children: \"Back to Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }, this);\n  }\n  const parsedData = recommendation ? parseReasoning(recommendation.reasoning) : null;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: '100vh',\n      backgroundColor: '#000000'\n    },\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      sx: {\n        backgroundColor: '#000000',\n        borderBottom: '1px solid #333'\n      },\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/logo.png\",\n          alt: \"SoilSense Logo\",\n          style: {\n            height: '60px',\n            marginRight: '16px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          component: \"div\",\n          sx: {\n            flexGrow: 1\n          },\n          className: \"gradient-text\",\n          children: \"SoilSense - Fertilizer Recommendation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          sx: {\n            color: '#4CAF50'\n          },\n          onClick: () => navigate('/'),\n          children: \"Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      sx: {\n        mt: 4,\n        pb: 4\n      },\n      children: [farmer && /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          mb: 3,\n          backgroundColor: '#000000',\n          border: '1px solid #333'\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                sx: {\n                  color: '#4CAF50'\n                },\n                children: farmer.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  color: '#e0e0e0'\n                },\n                children: [farmer.village, \", \", farmer.district, \", \", farmer.state]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  color: '#e0e0e0'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Crop:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 41\n                }, this), \" \", farmer.crop_name, \" (\", farmer.crop_season, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  color: '#e0e0e0'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Field Area:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 41\n                }, this), \" \", farmer.field_area, \" hectares\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 21\n      }, this), soilHealthCard && /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          mb: 3,\n          backgroundColor: '#000000',\n          border: '1px solid #333'\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            sx: {\n              color: '#4CAF50',\n              mb: 2\n            },\n            children: \"Download Soil Health Card\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 4,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                fullWidth: true,\n                sx: {\n                  backgroundColor: '#4CAF50',\n                  color: '#000',\n                  fontWeight: 'bold'\n                },\n                startIcon: /*#__PURE__*/_jsxDEV(DownloadIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 52\n                }, this),\n                onClick: () => handleDownload('pdf'),\n                children: \"Download PDF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 4,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                fullWidth: true,\n                sx: {\n                  backgroundColor: '#81C784',\n                  color: '#000',\n                  fontWeight: 'bold'\n                },\n                startIcon: /*#__PURE__*/_jsxDEV(DownloadIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 52\n                }, this),\n                onClick: () => handleDownload('excel'),\n                children: \"Download Excel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 4,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                fullWidth: true,\n                sx: {\n                  borderColor: '#4CAF50',\n                  color: '#4CAF50'\n                },\n                startIcon: /*#__PURE__*/_jsxDEV(DownloadIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 52\n                }, this),\n                onClick: () => handleDownload('csv'),\n                children: \"Download CSV\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }, this), recommendation && parsedData && /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          mb: 3,\n          backgroundColor: '#000000',\n          border: '1px solid #333'\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            gutterBottom: true,\n            sx: {\n              color: '#4CAF50',\n              mb: 3\n            },\n            children: \"\\uD83D\\uDCCA Analysis & Recommendations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 29\n          }, this), parsedData.soilAnalysis.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              sx: {\n                color: '#8bc34a',\n                mb: 2,\n                mt: 3\n              },\n              children: \"1. Soil Analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n              component: Paper,\n              sx: {\n                mb: 3,\n                backgroundColor: '#000000',\n                border: '1px solid #333'\n              },\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                  children: /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#fff',\n                        fontWeight: 'bold',\n                        backgroundColor: '#4CAF50'\n                      },\n                      children: \"Parameter\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#fff',\n                        fontWeight: 'bold',\n                        backgroundColor: '#4CAF50'\n                      },\n                      children: \"Value\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#fff',\n                        fontWeight: 'bold',\n                        backgroundColor: '#4CAF50'\n                      },\n                      children: \"Status\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 313,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#fff',\n                        fontWeight: 'bold',\n                        backgroundColor: '#4CAF50'\n                      },\n                      children: \"Assessment\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 316,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                  children: parsedData.soilAnalysis.map((item, idx) => /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#e0e0e0',\n                        fontWeight: 'bold'\n                      },\n                      children: item.param\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#e0e0e0'\n                      },\n                      children: item.value\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: /*#__PURE__*/_jsxDEV(Chip, {\n                        label: item.status,\n                        size: \"small\",\n                        sx: {\n                          backgroundColor: item.status.includes('LOW') ? '#f44336' : item.status.includes('MODERATE') ? '#ff9800' : item.status.includes('HIGH') ? '#4caf50' : '#2196f3',\n                          color: '#000',\n                          fontWeight: 'bold'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 331,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#b0b0b0',\n                        fontSize: '0.9rem'\n                      },\n                      children: item.note\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 57\n                    }, this)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 53\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true), parsedData.nutrients.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              sx: {\n                color: '#8bc34a',\n                mb: 2,\n                mt: 3\n              },\n              children: \"2. Recommended Nutrients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n              component: Paper,\n              sx: {\n                mb: 3,\n                backgroundColor: '#000000',\n                border: '1px solid #333'\n              },\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                  children: /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#fff',\n                        fontWeight: 'bold',\n                        backgroundColor: '#4CAF50'\n                      },\n                      children: \"Nutrient\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 364,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#fff',\n                        fontWeight: 'bold',\n                        backgroundColor: '#4CAF50'\n                      },\n                      children: \"Chemical Form\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 367,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#fff',\n                        fontWeight: 'bold',\n                        backgroundColor: '#4CAF50'\n                      },\n                      children: \"Required (kg/ha)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 370,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                  children: parsedData.nutrients.map((item, idx) => /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#e0e0e0',\n                        fontWeight: 'bold'\n                      },\n                      children: item.nutrient\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 378,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#e0e0e0'\n                      },\n                      children: item.symbol\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 381,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#4caf50',\n                        fontWeight: 'bold',\n                        fontSize: '1.1rem'\n                      },\n                      children: item.quantity.toFixed(1)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 57\n                    }, this)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 53\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true), parsedData.fertilizers.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              sx: {\n                color: '#8bc34a',\n                mb: 2,\n                mt: 3\n              },\n              children: \"3. Fertilizer Breakdown & Cost\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n              component: Paper,\n              sx: {\n                mb: 3,\n                backgroundColor: '#000000',\n                border: '1px solid #333'\n              },\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                  children: /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#fff',\n                        fontWeight: 'bold',\n                        backgroundColor: '#4CAF50'\n                      },\n                      children: \"Fertilizer\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 405,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#fff',\n                        fontWeight: 'bold',\n                        backgroundColor: '#4CAF50'\n                      },\n                      children: \"Quantity\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 408,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#fff',\n                        fontWeight: 'bold',\n                        backgroundColor: '#4CAF50'\n                      },\n                      children: \"Cost/kg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 411,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#fff',\n                        fontWeight: 'bold',\n                        backgroundColor: '#4CAF50'\n                      },\n                      children: \"Total Cost\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 414,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 404,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                  children: parsedData.fertilizers.map((item, idx) => /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#e0e0e0',\n                        fontWeight: 'bold'\n                      },\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 422,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#e0e0e0'\n                      },\n                      children: item.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 425,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#e0e0e0'\n                      },\n                      children: item.costPerKg\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      sx: {\n                        color: '#4caf50',\n                        fontWeight: 'bold',\n                        fontSize: '1.1rem'\n                      },\n                      children: item.totalCost\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 431,\n                      columnNumber: 57\n                    }, this)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 53\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true), parsedData.notes.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 3,\n              p: 2,\n              backgroundColor: '#1a1a1a',\n              border: '1px solid #4CAF50',\n              borderRadius: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              sx: {\n                color: '#4CAF50',\n                mb: 2\n              },\n              children: \"\\uD83D\\uDCDD Application Guidelines\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 37\n            }, this), parsedData.notes.map((note, idx) => /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                color: '#e0e0e0',\n                mb: 1\n              },\n              children: [\"\\u2022 \", note]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 41\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 33\n          }, this), parsedData.fertilizers.length === 0 && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 3,\n              p: 2,\n              backgroundColor: '#000000',\n              border: '1px solid #333',\n              borderRadius: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              sx: {\n                color: '#4CAF50',\n                mb: 2\n              },\n              children: \"Analysis & Reasoning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                color: '#e0e0e0',\n                '& p': {\n                  mb: 1,\n                  lineHeight: 1.6\n                },\n                '& ul': {\n                  pl: 2\n                },\n                '& li': {\n                  mb: 0.5\n                },\n                '& a': {\n                  color: '#64b5f6',\n                  textDecoration: 'none',\n                  '&:hover': {\n                    textDecoration: 'underline'\n                  }\n                },\n                '& strong': {\n                  color: '#81C784'\n                },\n                '& table': {\n                  width: '100%',\n                  borderCollapse: 'collapse',\n                  mt: 2,\n                  mb: 2\n                },\n                '& th, & td': {\n                  border: '1px solid #333',\n                  padding: '8px',\n                  textAlign: 'left'\n                },\n                '& th': {\n                  backgroundColor: '#4CAF50',\n                  color: '#000',\n                  fontWeight: 'bold'\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n                children: recommendation.reasoning\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 9\n  }, this);\n}\n_s(RecommendationView, \"y2wMl64g2840KCkeftvFfcZeEgA=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = RecommendationView;\nexport default RecommendationView;\nvar _c;\n$RefreshReg$(_c, \"RecommendationView\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","Container","Box","Typography","Card","CardContent","Grid","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","Alert","AppBar","Toolbar","Chip","DownloadIcon","ReactMarkdown","jsxDEV","_jsxDEV","Fragment","_Fragment","RecommendationView","_s","farmerId","soilDataId","navigate","recommendation","setRecommendation","farmer","setFarmer","soilData","setSoilData","soilHealthCard","setSoilHealthCard","loading","setLoading","error","setError","parseReasoning","reasoning","soilAnalysis","nutrients","fertilizers","notes","lines","split","inFertilizerSection","line","includes","match","param","value","status","note","push","nutrient","symbol","quantity","parseFloat","cells","map","c","trim","filter","Boolean","length","name","costPerKg","totalCost","replace","fetchRecommendation","recResponse","get","data","farmerResponse","farmer_id","soilResponse","soil_data_id","shcResponse","shcError","console","log","err","_err$response","_err$response$data","errorMessage","response","detail","Array","isArray","e","msg","JSON","stringify","join","message","handleDownload","format","alert","card_id","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","remove","_err$response2","_err$response2$data","sx","minHeight","backgroundColor","display","justifyContent","alignItems","children","color","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","p","severity","mb","variant","onClick","parsedData","position","borderBottom","src","alt","style","height","marginRight","component","flexGrow","className","maxWidth","mt","pb","border","container","spacing","item","xs","md","village","district","state","crop_name","crop_season","field_area","sm","fullWidth","fontWeight","startIcon","borderColor","gutterBottom","idx","label","size","toFixed","borderRadius","lineHeight","pl","textDecoration","width","borderCollapse","padding","textAlign","_c","$RefreshReg$"],"sources":["C:/Users/bhauk/Documents/hackathon/Re-Gen &Quasa4.0/SoilSense/frontend/src/pages/RecommendationView.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport {\r\n    Container,\r\n    Box,\r\n    Typography,\r\n    Card,\r\n    CardContent,\r\n    Grid,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow,\r\n    Paper,\r\n    Button,\r\n    Alert,\r\n    AppBar,\r\n    Toolbar,\r\n    Chip\r\n} from '@mui/material';\r\nimport DownloadIcon from '@mui/icons-material/Download';\r\nimport ReactMarkdown from 'react-markdown';\r\n\r\nfunction RecommendationView() {\r\n    const { farmerId, soilDataId } = useParams();\r\n    const navigate = useNavigate();\r\n    const [recommendation, setRecommendation] = useState(null);\r\n    const [farmer, setFarmer] = useState(null);\r\n    const [soilData, setSoilData] = useState(null);\r\n    const [soilHealthCard, setSoilHealthCard] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    // Parse reasoning to extract structured data\r\n    const parseReasoning = (reasoning) => {\r\n        if (!reasoning) return { soilAnalysis: [], nutrients: [], fertilizers: [], notes: [] };\r\n\r\n        const lines = reasoning.split('\\n');\r\n        const soilAnalysis = [];\r\n        const nutrients = [];\r\n        const fertilizers = [];\r\n        const notes = [];\r\n\r\n        let inFertilizerSection = false;\r\n\r\n        for (const line of lines) {\r\n            // Extract soil parameters\r\n            if (line.includes('Nitrogen level') || line.includes('Phosphorus level') || line.includes('Potassium level') || line.includes('Soil pH')) {\r\n                const match = line.match(/^- (.+?) \\((.+?)\\) is (.+?)\\. (.+)$/);\r\n                if (match) {\r\n                    const [, param, value, status, note] = match;\r\n                    soilAnalysis.push({ param, value, status, note });\r\n                }\r\n            }\r\n\r\n            // Extract recommended nutrients\r\n            if (line.includes('kg/ha)') && (line.includes('Nitrogen') || line.includes('Phosphorus') || line.includes('Potassium'))) {\r\n                const match = line.match(/^- (.+?) \\((.+?)\\): (.+?) kg\\/ha$/);\r\n                if (match) {\r\n                    const [, nutrient, symbol, quantity] = match;\r\n                    nutrients.push({ nutrient, symbol, quantity: parseFloat(quantity) });\r\n                }\r\n            }\r\n\r\n            // Extract fertilizer recommendations\r\n            if (line.includes('**Fertilizer Recommendations**')) {\r\n                inFertilizerSection = true;\r\n                continue;\r\n            }\r\n\r\n            if (inFertilizerSection && line.includes('|')) {\r\n                // Parse table rows\r\n                const cells = line.split('|').map(c => c.trim()).filter(Boolean);\r\n                if (cells.length >= 4 && cells[0] !== 'Fertilizer' && cells[0] !== '---') {\r\n                    fertilizers.push({\r\n                        name: cells[0],\r\n                        quantity: cells[1],\r\n                        costPerKg: cells[2],\r\n                        totalCost: cells[3]\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Extract application notes\r\n            if (line.includes('**Application') || line.includes('Split application') || line.includes('Apply')) {\r\n                notes.push(line.replace(/\\*\\*/g, ''));\r\n            }\r\n        }\r\n\r\n        return { soilAnalysis, nutrients, fertilizers, notes };\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchRecommendation = async () => {\r\n            try {\r\n                setLoading(true);\r\n\r\n                // Fetch recommendation\r\n                const recResponse = await axios.get(`/api/recommendations/${soilDataId}`);\r\n                setRecommendation(recResponse.data);\r\n\r\n                // Fetch farmer\r\n                const farmerResponse = await axios.get(`/api/farmers/${recResponse.data.farmer_id}`);\r\n                setFarmer(farmerResponse.data);\r\n\r\n                // Fetch soil data\r\n                const soilResponse = await axios.get(`/api/soil-data/${recResponse.data.soil_data_id}`);\r\n                setSoilData(soilResponse.data);\r\n\r\n                // Try to fetch soil health card\r\n                try {\r\n                    const shcResponse = await axios.get(`/api/soil-health-card/farmer/${recResponse.data.farmer_id}`);\r\n                    if (shcResponse.data && shcResponse.data.length > 0) {\r\n                        setSoilHealthCard(shcResponse.data[0]);\r\n                    }\r\n                } catch (shcError) {\r\n                    console.log('No soil health card found:', shcError);\r\n                }\r\n\r\n                setLoading(false);\r\n            } catch (err) {\r\n                console.error('Error fetching data:', err);\r\n                // Properly extract error message\r\n                let errorMessage = 'Failed to load recommendation';\r\n                if (err.response?.data?.detail) {\r\n                    // Handle FastAPI validation errors (array of error objects)\r\n                    if (Array.isArray(err.response.data.detail)) {\r\n                        errorMessage = err.response.data.detail.map(e => e.msg || JSON.stringify(e)).join(', ');\r\n                    } else if (typeof err.response.data.detail === 'string') {\r\n                        errorMessage = err.response.data.detail;\r\n                    } else {\r\n                        errorMessage = JSON.stringify(err.response.data.detail);\r\n                    }\r\n                } else if (err.message) {\r\n                    errorMessage = err.message;\r\n                }\r\n                setError(errorMessage);\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchRecommendation();\r\n    }, [soilDataId]);\r\n\r\n    const handleDownload = async (format) => {\r\n        if (!soilHealthCard) {\r\n            alert('Soil Health Card not generated yet');\r\n            return;\r\n        }\r\n        try {\r\n            const response = await axios.get(\r\n                `/api/soil-health-card/${soilHealthCard.card_id}/download/${format}`,\r\n                { responseType: 'blob' }\r\n            );\r\n            const url = window.URL.createObjectURL(new Blob([response.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', `soil_health_card_${soilHealthCard.card_id}.${format === 'excel' ? 'xlsx' : format}`);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            link.remove();\r\n        } catch (err) {\r\n            console.error('Download error:', err);\r\n            let errorMessage = 'Failed to download file';\r\n            if (err.response?.data?.detail) {\r\n                if (typeof err.response.data.detail === 'string') {\r\n                    errorMessage = err.response.data.detail;\r\n                } else {\r\n                    errorMessage = JSON.stringify(err.response.data.detail);\r\n                }\r\n            }\r\n            alert(errorMessage);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <Box sx={{ minHeight: '100vh', backgroundColor: '#000', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n                <Typography sx={{ color: '#fff', fontSize: '1.2rem' }}>Loading recommendation...</Typography>\r\n            </Box>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <Box sx={{ minHeight: '100vh', backgroundColor: '#000', p: 4 }}>\r\n                <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n                    {error}\r\n                </Alert>\r\n                <Button variant=\"contained\" sx={{ backgroundColor: '#4CAF50' }} onClick={() => navigate('/')}>\r\n                    Back to Dashboard\r\n                </Button>\r\n            </Box>\r\n        );\r\n    }\r\n\r\n    const parsedData = recommendation ? parseReasoning(recommendation.reasoning) : null;\r\n\r\n    return (\r\n        <Box sx={{ minHeight: '100vh', backgroundColor: '#000000' }}>\r\n            <AppBar position=\"static\" sx={{ backgroundColor: '#000000', borderBottom: '1px solid #333' }}>\r\n                <Toolbar>\r\n                    <img src=\"/logo.png\" alt=\"SoilSense Logo\" style={{ height: '60px', marginRight: '16px' }} />\r\n                    <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }} className=\"gradient-text\">\r\n                        SoilSense - Fertilizer Recommendation\r\n                    </Typography>\r\n                    <Button sx={{ color: '#4CAF50' }} onClick={() => navigate('/')}>\r\n                        Back to Dashboard\r\n                    </Button>\r\n                </Toolbar>\r\n            </AppBar>\r\n\r\n            <Container maxWidth=\"lg\" sx={{ mt: 4, pb: 4 }}>\r\n                {/* Farmer Info */}\r\n                {farmer && (\r\n                    <Card sx={{ mb: 3, backgroundColor: '#000000', border: '1px solid #333' }}>\r\n                        <CardContent>\r\n                            <Grid container spacing={2}>\r\n                                <Grid item xs={12} md={6}>\r\n                                    <Typography variant=\"h6\" sx={{ color: '#4CAF50' }}>\r\n                                        {farmer.name}\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" sx={{ color: '#e0e0e0' }}>\r\n                                        {farmer.village}, {farmer.district}, {farmer.state}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item xs={12} md={6}>\r\n                                    <Typography variant=\"body2\" sx={{ color: '#e0e0e0' }}>\r\n                                        <strong>Crop:</strong> {farmer.crop_name} ({farmer.crop_season})\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" sx={{ color: '#e0e0e0' }}>\r\n                                        <strong>Field Area:</strong> {farmer.field_area} hectares\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </CardContent>\r\n                    </Card>\r\n                )}\r\n\r\n                {/* Soil Health Card Downloads */}\r\n                {soilHealthCard && (\r\n                    <Card sx={{ mb: 3, backgroundColor: '#000000', border: '1px solid #333' }}>\r\n                        <CardContent>\r\n                            <Typography variant=\"h6\" sx={{ color: '#4CAF50', mb: 2 }}>\r\n                                Download Soil Health Card\r\n                            </Typography>\r\n                            <Grid container spacing={2}>\r\n                                <Grid item xs={12} sm={4}>\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        fullWidth\r\n                                        sx={{ backgroundColor: '#4CAF50', color: '#000', fontWeight: 'bold' }}\r\n                                        startIcon={<DownloadIcon />}\r\n                                        onClick={() => handleDownload('pdf')}\r\n                                    >\r\n                                        Download PDF\r\n                                    </Button>\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={4}>\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        fullWidth\r\n                                        sx={{ backgroundColor: '#81C784', color: '#000', fontWeight: 'bold' }}\r\n                                        startIcon={<DownloadIcon />}\r\n                                        onClick={() => handleDownload('excel')}\r\n                                    >\r\n                                        Download Excel\r\n                                    </Button>\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={4}>\r\n                                    <Button\r\n                                        variant=\"outlined\"\r\n                                        fullWidth\r\n                                        sx={{ borderColor: '#4CAF50', color: '#4CAF50' }}\r\n                                        startIcon={<DownloadIcon />}\r\n                                        onClick={() => handleDownload('csv')}\r\n                                    >\r\n                                        Download CSV\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </CardContent>\r\n                    </Card>\r\n                )}\r\n\r\n                {/* Fertilizer Recommendation */}\r\n                {recommendation && parsedData && (\r\n                    <Card sx={{ mb: 3, backgroundColor: '#000000', border: '1px solid #333' }}>\r\n                        <CardContent>\r\n                            <Typography variant=\"h5\" gutterBottom sx={{ color: '#4CAF50', mb: 3 }}>\r\n                                 Analysis & Recommendations\r\n                            </Typography>\r\n\r\n                            {/* Soil Analysis Table */}\r\n                            {parsedData.soilAnalysis.length > 0 && (\r\n                                <>\r\n                                    <Typography variant=\"h6\" sx={{ color: '#8bc34a', mb: 2, mt: 3 }}>\r\n                                        1. Soil Analysis\r\n                                    </Typography>\r\n                                    <TableContainer component={Paper} sx={{ mb: 3, backgroundColor: '#000000', border: '1px solid #333' }}>\r\n                                        <Table>\r\n                                            <TableHead>\r\n                                                <TableRow>\r\n                                                    <TableCell sx={{ color: '#fff', fontWeight: 'bold', backgroundColor: '#4CAF50' }}>\r\n                                                        Parameter\r\n                                                    </TableCell>\r\n                                                    <TableCell sx={{ color: '#fff', fontWeight: 'bold', backgroundColor: '#4CAF50' }}>\r\n                                                        Value\r\n                                                    </TableCell>\r\n                                                    <TableCell sx={{ color: '#fff', fontWeight: 'bold', backgroundColor: '#4CAF50' }}>\r\n                                                        Status\r\n                                                    </TableCell>\r\n                                                    <TableCell sx={{ color: '#fff', fontWeight: 'bold', backgroundColor: '#4CAF50' }}>\r\n                                                        Assessment\r\n                                                    </TableCell>\r\n                                                </TableRow>\r\n                                            </TableHead>\r\n                                            <TableBody>\r\n                                                {parsedData.soilAnalysis.map((item, idx) => (\r\n                                                    <TableRow key={idx}>\r\n                                                        <TableCell sx={{ color: '#e0e0e0', fontWeight: 'bold' }}>\r\n                                                            {item.param}\r\n                                                        </TableCell>\r\n                                                        <TableCell sx={{ color: '#e0e0e0' }}>\r\n                                                            {item.value}\r\n                                                        </TableCell>\r\n                                                        <TableCell>\r\n                                                            <Chip\r\n                                                                label={item.status}\r\n                                                                size=\"small\"\r\n                                                                sx={{\r\n                                                                    backgroundColor: item.status.includes('LOW') ? '#f44336' :\r\n                                                                        item.status.includes('MODERATE') ? '#ff9800' :\r\n                                                                            item.status.includes('HIGH') ? '#4caf50' : '#2196f3',\r\n                                                                    color: '#000',\r\n                                                                    fontWeight: 'bold'\r\n                                                                }}\r\n                                                            />\r\n                                                        </TableCell>\r\n                                                        <TableCell sx={{ color: '#b0b0b0', fontSize: '0.9rem' }}>\r\n                                                            {item.note}\r\n                                                        </TableCell>\r\n                                                    </TableRow>\r\n                                                ))}\r\n                                            </TableBody>\r\n                                        </Table>\r\n                                    </TableContainer>\r\n                                </>\r\n                            )}\r\n\r\n                            {/* Nutrient Requirements Table */}\r\n                            {parsedData.nutrients.length > 0 && (\r\n                                <>\r\n                                    <Typography variant=\"h6\" sx={{ color: '#8bc34a', mb: 2, mt: 3 }}>\r\n                                        2. Recommended Nutrients\r\n                                    </Typography>\r\n                                    <TableContainer component={Paper} sx={{ mb: 3, backgroundColor: '#000000', border: '1px solid #333' }}>\r\n                                        <Table>\r\n                                            <TableHead>\r\n                                                <TableRow>\r\n                                                    <TableCell sx={{ color: '#fff', fontWeight: 'bold', backgroundColor: '#4CAF50' }}>\r\n                                                        Nutrient\r\n                                                    </TableCell>\r\n                                                    <TableCell sx={{ color: '#fff', fontWeight: 'bold', backgroundColor: '#4CAF50' }}>\r\n                                                        Chemical Form\r\n                                                    </TableCell>\r\n                                                    <TableCell sx={{ color: '#fff', fontWeight: 'bold', backgroundColor: '#4CAF50' }}>\r\n                                                        Required (kg/ha)\r\n                                                    </TableCell>\r\n                                                </TableRow>\r\n                                            </TableHead>\r\n                                            <TableBody>\r\n                                                {parsedData.nutrients.map((item, idx) => (\r\n                                                    <TableRow key={idx}>\r\n                                                        <TableCell sx={{ color: '#e0e0e0', fontWeight: 'bold' }}>\r\n                                                            {item.nutrient}\r\n                                                        </TableCell>\r\n                                                        <TableCell sx={{ color: '#e0e0e0' }}>\r\n                                                            {item.symbol}\r\n                                                        </TableCell>\r\n                                                        <TableCell sx={{ color: '#4caf50', fontWeight: 'bold', fontSize: '1.1rem' }}>\r\n                                                            {item.quantity.toFixed(1)}\r\n                                                        </TableCell>\r\n                                                    </TableRow>\r\n                                                ))}\r\n                                            </TableBody>\r\n                                        </Table>\r\n                                    </TableContainer>\r\n                                </>\r\n                            )}\r\n\r\n                            {/* Fertilizer Breakdown Table */}\r\n                            {parsedData.fertilizers.length > 0 && (\r\n                                <>\r\n                                    <Typography variant=\"h6\" sx={{ color: '#8bc34a', mb: 2, mt: 3 }}>\r\n                                        3. Fertilizer Breakdown & Cost\r\n                                    </Typography>\r\n                                    <TableContainer component={Paper} sx={{ mb: 3, backgroundColor: '#000000', border: '1px solid #333' }}>\r\n                                        <Table>\r\n                                            <TableHead>\r\n                                                <TableRow>\r\n                                                    <TableCell sx={{ color: '#fff', fontWeight: 'bold', backgroundColor: '#4CAF50' }}>\r\n                                                        Fertilizer\r\n                                                    </TableCell>\r\n                                                    <TableCell sx={{ color: '#fff', fontWeight: 'bold', backgroundColor: '#4CAF50' }}>\r\n                                                        Quantity\r\n                                                    </TableCell>\r\n                                                    <TableCell sx={{ color: '#fff', fontWeight: 'bold', backgroundColor: '#4CAF50' }}>\r\n                                                        Cost/kg\r\n                                                    </TableCell>\r\n                                                    <TableCell sx={{ color: '#fff', fontWeight: 'bold', backgroundColor: '#4CAF50' }}>\r\n                                                        Total Cost\r\n                                                    </TableCell>\r\n                                                </TableRow>\r\n                                            </TableHead>\r\n                                            <TableBody>\r\n                                                {parsedData.fertilizers.map((item, idx) => (\r\n                                                    <TableRow key={idx}>\r\n                                                        <TableCell sx={{ color: '#e0e0e0', fontWeight: 'bold' }}>\r\n                                                            {item.name}\r\n                                                        </TableCell>\r\n                                                        <TableCell sx={{ color: '#e0e0e0' }}>\r\n                                                            {item.quantity}\r\n                                                        </TableCell>\r\n                                                        <TableCell sx={{ color: '#e0e0e0' }}>\r\n                                                            {item.costPerKg}\r\n                                                        </TableCell>\r\n                                                        <TableCell sx={{ color: '#4caf50', fontWeight: 'bold', fontSize: '1.1rem' }}>\r\n                                                            {item.totalCost}\r\n                                                        </TableCell>\r\n                                                    </TableRow>\r\n                                                ))}\r\n                                            </TableBody>\r\n                                        </Table>\r\n                                    </TableContainer>\r\n                                </>\r\n                            )}\r\n\r\n                            {/* Application Notes */}\r\n                            {parsedData.notes.length > 0 && (\r\n                                <Box sx={{ mt: 3, p: 2, backgroundColor: '#1a1a1a', border: '1px solid #4CAF50', borderRadius: 1 }}>\r\n                                    <Typography variant=\"h6\" sx={{ color: '#4CAF50', mb: 2 }}>\r\n                                         Application Guidelines\r\n                                    </Typography>\r\n                                    {parsedData.notes.map((note, idx) => (\r\n                                        <Typography key={idx} variant=\"body2\" sx={{ color: '#e0e0e0', mb: 1 }}>\r\n                                             {note}\r\n                                        </Typography>\r\n                                    ))}\r\n                                </Box>\r\n                            )}\r\n\r\n                            {/* Fallback: Show original reasoning if parsing failed */}\r\n                            {parsedData.fertilizers.length === 0 && (\r\n                                <Box sx={{ mt: 3, p: 2, backgroundColor: '#000000', border: '1px solid #333', borderRadius: 1 }}>\r\n                                    <Typography variant=\"h6\" sx={{ color: '#4CAF50', mb: 2 }}>\r\n                                        Analysis & Reasoning\r\n                                    </Typography>\r\n                                    <Box sx={{\r\n                                        color: '#e0e0e0',\r\n                                        '& p': { mb: 1, lineHeight: 1.6 },\r\n                                        '& ul': { pl: 2 },\r\n                                        '& li': { mb: 0.5 },\r\n                                        '& a': { color: '#64b5f6', textDecoration: 'none', '&:hover': { textDecoration: 'underline' } },\r\n                                        '& strong': { color: '#81C784' },\r\n                                        '& table': { width: '100%', borderCollapse: 'collapse', mt: 2, mb: 2 },\r\n                                        '& th, & td': { border: '1px solid #333', padding: '8px', textAlign: 'left' },\r\n                                        '& th': { backgroundColor: '#4CAF50', color: '#000', fontWeight: 'bold' }\r\n                                    }}>\r\n                                        <ReactMarkdown>{recommendation.reasoning}</ReactMarkdown>\r\n                                    </Box>\r\n                                </Box>\r\n                            )}\r\n                        </CardContent>\r\n                    </Card>\r\n                )}\r\n            </Container>\r\n        </Box>\r\n    );\r\n}\r\n\r\nexport default RecommendationView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}